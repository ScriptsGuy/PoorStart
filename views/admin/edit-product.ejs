<%- include('../includes/head.ejs') %> 
<link rel="stylesheet" href="/css/global.css" />
</head>
  <style>
    .mtopbottom{
    margin-top: 50px;
    margin-bottom: 100px;
  }

  </style>
  <body>
    <%- include('../includes/navigation.ejs') %> 
    <div class="container-fluid bg-light py-3">
        <div class="row">
            <div class="col-md-6 mx-auto mtopbottom ">
                <div class="card card-body shadow">
                    <h3 class="text-center mb-4">Add Product</h3>
                    
                       <% if (errorMessage) { %>
                        
                        
                      <div class="alert alert-danger" role="alert">
                            <%= errorMessage %> 
                        </div>
                        <% } %>
                    <form class="form-horizontal justify-content-center" action="/admin/<% if (editing || hasError) { %>edit-product<% } else { %>add-product<% } %>" method="POST">
                                <input type="hidden" name="_csrf" value="<%= csrfToken %>">

                        <fieldset>
                            <div class="form-group">
                                <label class="" for="Name">Name</label>
                                <input 
                                type="text" id="name" 
                                name="name" placeholder="Name" 
                                value="<% if (editing || hasError) { %><%= product.name %><% } %>" 
                                class="form-control input-lg <%= validationErrors.find(e => e.param ===  'name') ? 'is-invalid' : '' %>"/>
                            </div>
                            <div class="form-group ">
                                <label class="" for="Price">Price</label>
                                <input type="number" id="Price" name="price" 
                                placeholder="Price" value="<% if (editing || hasError) { %><%= product.price %><% } %>" 
                                class="form-control input-lg <%= validationErrors.find(e => e.param ===  'price') ? 'is-invalid' : '' %>" step="0.01"/>
                            </div>
                            <div class="form-group">
                                <label class="" for="imageUrl">Image Url</label>
                                <input type="text" id="imageUrl" name="imageUrl" placeholder="Image Url" value="<% if (editing || hasError) { %><%= product.imageUrl %><% } %>" 
                                class="form-control input-lg <%= validationErrors.find(e => e.param ===  'imageUrl') ? 'is-invalid' : '' %>"/>
                            </div>
                            <div class="form-group">
                                <label class="" for="productType">Product Type</label>
                                <select class="form-control input-lg" name="productType">
                                    <option selected>Choose One...</option>
                                    <option value="Phone">Phone</option>
                                    <option value="Laptop">Laptop</option>
                                    <option value="Pc">Pc</option>
                                    <option value="Clothes">Clothes</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="description">Description</label>
                                <textarea class="form-control input-lg <%= validationErrors.find(e => e.param ===  'description') ? 'is-invalid' : '' %>" name="description" rows="5" id="description"><% if (editing || hasError) { %><%= product.description %><% } %></textarea>
                            </div>
                            <% if (editing) { %>
                            <input type="hidden" value="<%= product.id %>" name="productId">
                            <% } %>
                            <input class="btn btn-lg btn-outline-success float-right" value="<% if (editing || hasError) { %>Update Product<% } else { %>Add Product<% } %>" type="submit">
                        </fieldset>
                    </form>  
                </div>
            </div>
        </div>
    </div>
    <%- include('../includes/footer.ejs') %> 
    <%- include('../includes/end.ejs') %> 

    
                            
                        
                            
                            
                            
    



                      
                       
                   
